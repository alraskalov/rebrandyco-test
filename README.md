# Проект управления пользователями и комментариями

Этот проект включает в себя два микросервиса и шлюз для управления пользователями и комментариями с использованием контейнеризации через Docker.

## Описание

### Часть 1: Микросервис пользователей
Микросервис пользователей предоставляет функциональность для:
- **Создания нового пользователя**.
- **Загрузки и применения аватара**.
- **Авторизации с использованием JWT токенов (на уровне API Gateway)**.
- **Получения информации о текущем пользователе**.

Микросервис также реализует механизмы аутентификации с JWT токенами, защищая эндпоинты и поддерживая две роли пользователей: `simple` и `admin`.

### Часть 2: Микросервис комментариев
Микросервис комментариев предоставляет следующие возможности:
- **Добавление, обновление и удаление комментариев**.
- **Получение списка всех комментариев пользователя** (для роли `admin` — доступ к комментариям других пользователей).
- **Опциональное авто-удаление комментариев** через заданные интервалы времени (минута, час, день, неделя).

### Часть 3: Gateway
Gateway предоставляет **REST API** для взаимодействия с двумя микросервисами через **TCP-транспорт**.

## Технические требования

### Работа с данными:
- **Использование PostgreSQL** в качестве базы данных.
- **TypeORM** для взаимодействия с базой данных.

### Контейнеризация:
Проект работает в двух контейнерах с использованием **Docker Compose**:
1. **Контейнер БД** — все приложения работают с одной СУБД, но с отдельными базами данных.
2. **Контейнер приложений** с менеджером **PM2** для управления микросервисами.

## Запуск проекта

1. Клонируйте репозиторий:
    ```bash
    git clone https://github.com/alraskalov/rebrandyco-test.git
    cd rebrandyco-test
    ```

2. Запустите проект с помощью Docker Compose:
    ```bash
    docker-compose up --build
    ```

3. Swagger документация будет доступна по адресу:
   ```bash
   http://localhost:3000/api
   ```